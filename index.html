"""<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>í”„ë¡œíŒŒì¼ì»¤ë¨¸ìŠ¤ ìë™ê²¬ì ê¸°</title>
<style>
@font-face {
  font-family: 'Pretendard';
  src: url('fonts/Pretendard-Regular.woff2') format('woff2');
  font-weight: 400;
}
@font-face {
  font-family: 'Pretendard';
  src: url('fonts/Pretendard-SemiBold.woff2') format('woff2');
  font-weight: 600;
}
@font-face {
  font-family: 'Pretendard';
  src: url('fonts/Pretendard-Bold.woff2') format('woff2');
  font-weight: 700;
}
body {
  font-family: 'Pretendard','Noto Sans KR',sans-serif;
  background:#f8f9fb;
  padding:40px;
  color:#222;
}
.container {
  max-width:950px;
  background:#fff;
  border-radius:20px;
  padding:36px;
  box-shadow:0 6px 20px rgba(0,0,0,0.08);
  margin:auto;
}
select,input {
  width:100%;
  padding:12px;
  border:1px solid #ccc;
  border-radius:10px;
  font-size:1rem;
}
button {
  cursor:pointer;
}
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
</head>
<body>
<div class="container">
  <h2 style="text-align:center;font-size:2rem;font-weight:700;">í”„ë¡œíŒŒì¼ì»¤ë¨¸ìŠ¤ ìë™ê²¬ì ê¸°</h2>
  <p style="text-align:center;color:#666;">ê·œê²©ê³¼ ìƒ‰ìƒ ì„ íƒ ì‹œ ì´ë¯¸ì§€ê°€ ìë™ìœ¼ë¡œ ë³€ê²½ë©ë‹ˆë‹¤ ğŸ¨</p>

  <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;">
    <div><label>ê·œê²© ì„ íƒ</label>
      <select id="size" onchange="updateImage();updatePrice();">
        <option value="2020">2020</option>
        <option value="2040">2040</option>
        <option value="3030">3030</option>
        <option value="3060">3060</option>
        <option value="4040">4040</option>
        <option value="4080">4080</option>
      </select></div>
    <div><label>ìƒ‰ìƒ ì„ íƒ</label>
      <select id="color" onchange="updateImage();updatePrice();">
        <option value="silver">ì‹¤ë²„</option>
        <option value="black">ë¸”ë™</option>
      </select></div>
  </div>

  <div id="profileImageBox" style="text-align:center;margin:25px 0;">
    <img id="profileImage" src="images/2020-silver.png" style="max-width:400px;width:100%;border-radius:10px;">
  </div>

  <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;">
    <div><label>ìˆ˜ëŸ‰</label><input type="number" id="quantity" value="1" onchange="updatePrice()"></div>
    <div><label>ê¸¸ì´ (mm)</label><input type="number" id="length" value="100" onchange="updatePrice()"></div>
  </div>

  <div style="margin-top:25px;">
    <label>ê°€ê³µ ì„ íƒ</label>
    <div style="display:flex;gap:20px;flex-wrap:wrap;margin-top:10px;">
      <label><input type="checkbox" name="process" value="tap" onchange="updateProcessImage();updatePrice()"> íƒ­ (+300ì›)</label>
      <label><input type="checkbox" name="process" value="hole" onchange="updateProcessImage();updatePrice()"> í™€ (+400ì›)</label>
      <label><input type="checkbox" name="process" value="counterbore" onchange="updateProcessImage();updatePrice()"> ì¹´ìš´í„°ë³´ì–´ (+1000ì›)</label>
    </div>
  </div>

  <div id="processImageBox" style="text-align:center;margin:20px 0;">
    <img id="processImage" src="images/tap.png" style="max-width:250px;border-radius:10px;">
  </div>

  <label>ê°€ê³µ ìˆ˜ëŸ‰</label>
  <input type="number" id="processQty" value="0" onchange="updatePrice()">

  <div id="result" style="text-align:center;margin-top:25px;font-weight:700;font-size:1.3rem;">ì´ ê²¬ì ê°€: 0ì›</div>

  <button onclick="addToCart()" style="margin-top:20px;width:100%;background:#2d3436;color:white;padding:14px;border:none;border-radius:12px;font-size:1.05rem;">ğŸ§¾ ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°</button>

  <hr style="margin:30px 0;border:none;border-top:1px solid #ddd;">

  <h3>ğŸ›’ ì¥ë°”êµ¬ë‹ˆ</h3>
  <table id="cartTable" style="width:100%;border-collapse:collapse;margin-top:10px;">
    <thead>
      <tr style="background:#f1f2f6;">
        <th>ì„ íƒ</th><th>ê·œê²©</th><th>ìƒ‰ìƒ</th><th>ê¸¸ì´</th><th>ìˆ˜ëŸ‰</th><th>ê°€ê³µ</th><th>ê¸ˆì•¡</th><th>ì‚­ì œ</th>
      </tr>
    </thead>
    <tbody id="cartBody"></tbody>
  </table>

  <div style="margin-top:15px;text-align:right;">
    <button onclick="deleteSelected()" style="background:#636e72;color:white;padding:8px 14px;border:none;border-radius:8px;">ì„ íƒì‚­ì œ</button>
    <button onclick="clearCart()" style="background:#d63031;color:white;padding:8px 14px;border:none;border-radius:8px;">ì „ì²´ì‚­ì œ</button>
  </div>

  <hr style="margin:30px 0;border:none;border-top:1px solid #ddd;">

  <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;">
    <button onclick="savePDF()" style="background:#2c3e50;color:white;padding:14px;border:none;border-radius:12px;">ğŸ“„ PDF ì €ì¥</button>
    <button onclick="sendEmail()" style="background:#1abc9c;color:white;padding:14px;border:none;border-radius:12px;">âœ‰ï¸ ë©”ì¼ ì „ì†¡</button>
  </div>

  <div style="margin-top:20px;">
    <label>ì´ë©”ì¼ ì…ë ¥</label>
    <input type="email" id="emailTo" placeholder="ì˜ˆ: example@naver.com">
    <div id="mailResult" style="text-align:center;margin-top:10px;color:#444;"></div>
  </div>
</div>

<script>
(function(){emailjs.init("publicKey_nL-iov_IIpUepMsqE");})();
const prices={2020:{silver:390,black:600},2040:{silver:690,black:900},3030:{silver:890,black:1100},3060:{silver:1400,black:1800},4040:{silver:1500,black:1900},4080:{silver:2700,black:3000}};
const processCost={tap:300,hole:400,counterbore:1000};
function updateImage(){const s=size.value,c=color.value;document.getElementById("profileImage").src=`images/${s}-${c}.png`;}
function updateProcessImage(){const checked=[...document.querySelectorAll('input[name="process"]:checked')].map(e=>e.value);document.getElementById("processImage").src=checked.length?`images/${checked.at(-1)}.png`:"";}
function updatePrice(){const s=size.value,c=color.value,l=+length.value||0,q=+quantity.value||1,pq=+processQty.value||0,sel=[...document.querySelectorAll('input[name="process"]:checked')].map(e=>e.value);const base=prices[s][c]*Math.ceil(l/100)*q;const extra=sel.reduce((a,v)=>a+processCost[v]*pq,0);const total=base+extra;result.textContent=`ì´ ê²¬ì ê°€: ${total.toLocaleString()}ì› (ë¶€ê°€ì„¸ í¬í•¨)`;return total;}
function addToCart(){const s=size.value,c=color.value,l=length.value,q=quantity.value,p=[...document.querySelectorAll('input[name="process"]:checked')].map(e=>e.value),t=updatePrice();const tr=document.createElement("tr");tr.innerHTML=`<td><input type='checkbox'></td><td>${s}</td><td>${c}</td><td>${l}</td><td>${q}</td><td>${p.join(", ")||"-"}</td><td>${t.toLocaleString()}ì›</td><td><button onclick='this.closest("tr").remove()' style='background:#e74c3c;color:white;border:none;border-radius:6px;padding:3px 8px;'>X</button></td>`;cartBody.appendChild(tr);}
function deleteSelected(){[...cartBody.querySelectorAll("input[type=checkbox]:checked")].forEach(e=>e.closest("tr").remove());}
function clearCart(){cartBody.innerHTML="";}
function savePDF(){const {jsPDF}=window.jspdf;const pdf=new jsPDF();pdf.text("í”„ë¡œíŒŒì¼ì»¤ë¨¸ìŠ¤ ê²¬ì ì„œ",20,20);let y=40;pdf.text("ê·œê²© | ìƒ‰ìƒ | ê¸¸ì´ | ìˆ˜ëŸ‰ | ê°€ê³µ | ê¸ˆì•¡",20,30);[...cartBody.rows].forEach(r=>{const d=[...r.cells].slice(1,7).map(c=>c.textContent);pdf.text(d.join(" | "),20,y);y+=8;});pdf.save("ê²¬ì ì„œ.pdf");}
function sendEmail(){const emailTo=document.getElementById("emailTo").value.trim();if(!emailTo)return mailResult.textContent="âš ï¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”.";let message="[í”„ë¡œíŒŒì¼ì»¤ë¨¸ìŠ¤ ê²¬ì ì„œ]\\n";[...cartBody.rows].forEach(r=>{const d=[...r.cells].slice(1,7).map(c=>c.textContent);message+=d.join(" | ")+"\\n";});emailjs.send("service_vk0adeb","template_5xcl09a",{to_email:emailTo,from_name:"í”„ë¡œíŒŒì¼ì»¤ë¨¸ìŠ¤ ìë™ê²¬ì ê¸°",message}).then(()=>mailResult.textContent="âœ… ë©”ì¼ì´ ì„±ê³µì ìœ¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.").catch(()=>mailResult.textContent="âŒ ë©”ì¼ ì „ì†¡ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");}
updateImage();updatePrice();
</script>
</body>
</html>"""

open("autoquote_localfont/index_gray_full.html", "w", encoding="utf-8").write(html_code)
